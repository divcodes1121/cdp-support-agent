{
  "url": "https://docs.lytics.com/docs/creating-cloud-connect-audiences",
  "title": "Data Models & Queries",
  "content": "Quick Start Developer Quickstart1. Install the Lytics Tag2. Content Setup3. Surface Personalized MessageBuilding ProfilesDefault AttributesDefault SegmentsGuides & InspirationLead CaptureContent Recommendations 1. Install the Lytics Tag 2. Content Setup 3. Surface Personalized Message Building ProfilesDefault AttributesDefault Segments Default Attributes Default Segments Guides & InspirationLead CaptureContent Recommendations Lead Capture Content Recommendations Account Management What is Vault? Accessing Accounts Monitoring Metrics and AlertsJob AlertsMonitoring Audit LogsExporting Audit Logs or Alert JobsMonitoring MetricsUsage Metrics Job Alerts Monitoring Audit LogsExporting Audit Logs or Alert Jobs Exporting Audit Logs or Alert Jobs Monitoring Metrics Usage Metrics Managing UsersSingle Sign-On Single Sign-On Account SettingsAccount DetailsJavaScript Tag ConfigPersonalization APIContent ServicesSecurityAI & Modeling ControlsSchema Controls Account Details JavaScript Tag Config Personalization API Content Services Security AI & Modeling Controls Schema Controls Data PoliciesPlatform LimitsPrivacy and Data ProtectionImpact of Browser Tracking Changes Platform Limits Privacy and Data Protection Impact of Browser Tracking Changes Compliance Authorizations Access Tokens Key Concepts Identity Resolution Consent & PrivacyComplying with the Digital Markets Act (DMA) Complying with the Digital Markets Act (DMA) Client & Server Side Cookies Content AffinityContent CurationTopic Taxonomy Content Curation Topic Taxonomy ArchitectureIntegration PatternsJob ProcessingLytics Platform Data Flow and AccessCDI and CDP Implementation StrategyLytics Zero Copy with Cloud Connect Integration Patterns Job Processing Lytics Platform Data Flow and Access CDI and CDP Implementation Strategy Lytics Zero Copy with Cloud Connect Pipeline & Profiles Data PipelineJobs (Data Sources and Exports)Data StreamsStream Routing APITemplatesCreating Templates Using the UICreating Templates using Lytics APIUsing the Jsonnet LibraryTemplate Examples Jobs (Data Sources and Exports) Data Streams Stream Routing API TemplatesCreating Templates Using the UICreating Templates using Lytics APIUsing the Jsonnet LibraryTemplate Examples Creating Templates Using the UI Creating Templates using Lytics API Using the Jsonnet Library Template Examples Schema ManagementFields & MappingsAdvanced Mapping FunctionsMeta FieldsQueries & LQLIdentity Key RanksSchema VersionsPlanning & TroubleshootingLytics Profile SchemaSchema Copilot Fields & Mappings Advanced Mapping Functions Meta Fields Queries & LQL Identity Key Ranks Schema Versions Planning & Troubleshooting Lytics Profile Schema Schema Copilot IdentityMerge StatisticsIdentity ExplorerIdentity Rules Merge Statistics Identity Explorer Identity Rules Warehouse Access What is Cloud Connect? Connecting Warehouses Data Models & Queries Activating Data Models Cloud Connect Troubleshooting and FAQs Audiences & Activation User ProfilesUnderstanding Profile HealthFinding a User Understanding Profile Health Finding a User AudiencesAudience GroupsPrebuilt Audiences Audience Groups Prebuilt Audiences ReportsWhat are Reports?ComponentsManaging ReportsDashboard Report What are Reports? Components Managing Reports Dashboard Report ContentTopics & AffinitiesTopicsAffinitiesUsing Topics & AffinitiesClassificationEnrichmentRecommendationsDocumentsContent CollectionsCreating Content CollectionsViewing, Using & Managing CollectionsInterest EnginesDefault Interest EngineCustom Interest EnginesCollaborative Filters Topics & AffinitiesTopicsAffinitiesUsing Topics & Affinities Topics Affinities Using Topics & Affinities Classification Enrichment Recommendations Documents Content CollectionsCreating Content CollectionsViewing, Using & Managing Collections Creating Content Collections Viewing, Using & Managing Collections Interest EnginesDefault Interest EngineCustom Interest EnginesCollaborative Filters Default Interest Engine Custom Interest Engines Collaborative Filters Lookalike Models & AudiencesGetting StartedBuilding Lookalike ModelsEvaluating Lookalike ModelsCreating Lookalike AudiencesImproving Lookalike Models Getting Started Building Lookalike Models Evaluating Lookalike Models Creating Lookalike Audiences Improving Lookalike Models ActivationDestinationsGoalsExperiences Destinations Goals Experiences Behavioral Scores Tutorials Leveraging User ProfilesAccessing Profiles Client SideAccessing Profiles Server SideWorking with Anonymous ProfilesGet Started with Lytics SegmentsInline Content Recommendations Accessing Profiles Client Side Accessing Profiles Server Side Working with Anonymous Profiles Get Started with Lytics Segments Inline Content Recommendations Data Collection & OnboardingWorking with Custom DataWorking with Web DataCollect Mobile Data with Firebase + GTM Working with Custom Data Working with Web Data Collect Mobile Data with Firebase + GTM Data ManagementProfile Stitching Best PracticesMigrating from Queries to Conductor SchemaLQL & Data Import Basics Profile Stitching Best Practices Migrating from Queries to Conductor Schema LQL & Data Import Basics Use CasesAcquire New Customers with LyticsBest Practices for Personalizing Your Ad or Search Landing PageCapture More Information from Qualified LeadsContent Modularization in Email with Lytics AudiencesCustomize your Web Experiences with Branded ImagesDeliver Targeted ContentDrive Email Capture & Engagement with ContentDrive Mobile App Downloads With LyticsEngage Qualified Users with Targeted AdsEnhance Personalized Messaging with User Profile FieldsGrow Your Email Marketing ListImport an Audience from your Data WarehouseImprove Ad Campaign Metrics with Predictive TargetingIncrease Conversions with Lytics and Facebook LookalikeKeep Visitors Engaged with Content Recommendation ExperiencesLeverage Lookalike Models and Predictive AudiencesLookalike Models: Conserve marketing spend on engaged usersLookalike Models: Convert anonymous users to known usersLookalike Models: Convert single purchasers to multi-purchasersLookalike Models: Determine which subscribers are likely to churnMobile Messaging with Lytics Webhooks and Serverless FunctionsOptimize Remarketing SpendPersonalize the Messaging of your Website Based on AudiencePopulate Your Website With One-to-One Content RecommendationsPromote Relevant Content to Users based on their InterestsReach the Right People Using LyticsRetain Existing Customers With LyticsPersonalize your Iterable emails With Lytics content recommendationsBuild a Custom Personalized Experience With Video ContentUnlock Additional Web Personalization Features with Lytics API OverridesHow to Use GTM Tags to Modify Lytics Pathfora Widget BehaviorStyle your Lytics Web Experiences to Fit Your Brand Guidelines Acquire New Customers with Lytics Best Practices for Personalizing Your Ad or Search Landing Page Capture More Information from Qualified Leads Content Modularization in Email with Lytics Audiences Customize your Web Experiences with Branded Images Deliver Targeted Content Drive Email Capture & Engagement with Content Drive Mobile App Downloads With Lytics Engage Qualified Users with Targeted Ads Enhance Personalized Messaging with User Profile Fields Grow Your Email Marketing List Import an Audience from your Data Warehouse Improve Ad Campaign Metrics with Predictive Targeting Increase Conversions with Lytics and Facebook Lookalike Keep Visitors Engaged with Content Recommendation Experiences Leverage Lookalike Models and Predictive Audiences Lookalike Models: Conserve marketing spend on engaged users Lookalike Models: Convert anonymous users to known users Lookalike Models: Convert single purchasers to multi-purchasers Lookalike Models: Determine which subscribers are likely to churn Mobile Messaging with Lytics Webhooks and Serverless Functions Optimize Remarketing Spend Personalize the Messaging of your Website Based on Audience Populate Your Website With One-to-One Content Recommendations Promote Relevant Content to Users based on their Interests Reach the Right People Using Lytics Retain Existing Customers With Lytics Personalize your Iterable emails With Lytics content recommendations Build a Custom Personalized Experience With Video Content Unlock Additional Web Personalization Features with Lytics API Overrides How to Use GTM Tags to Modify Lytics Pathfora Widget Behavior Style your Lytics Web Experiences to Fit Your Brand Guidelines SDKs & Tools WebJavaScriptOn-site PersonalizationSubresource Integrity (SRI) JavaScript On-site Personalization Subresource Integrity (SRI) MobileiOSReact NativeAndroid iOS React Native Android Chrome Extension Integrations Lytics Integration Options Acoustic Adobe AdRoll Airship Amplitude Amazon Ads Amazon Kinesis Amazon Pinpoint Amazon Redshift Amazon S3 Amazon SQS Ansira BigCommerce BlueKai Blueshift Braze Brevo Campaign Monitor Cheetah Digital Clearbit Contentful Cordial Criteo Customer.io Databricks Dotdigital Drift Episerver FullContact GIGYA Google Optimize Google Ad Manager (DFP) Google Ads Google BigQuery Google Cloud Pub/Sub Google Cloud Storage Google Drive Google Marketing: Analytics, DV360, CM360 Google Cloud Operations Google Tag Manager HubSpot iContact Insider Iterable Jebbit Klaviyo Leadsquared LinkedIn LiveRamp Localytics Looker Lotame Lytics File Service Lytics Monitoring Mailchimp Mailgun Mandrill Mapp Mapp: BlueHornet Marketo Maropost MediaMath Meta Microsoft Microsoft Azure Microsoft Teams Mixpanel NetSuite New Relic Omeda OneSignal OneTrust Oracle Marketing Cloud: Eloqua Pinterest PostUp Radar Reddit Responsys Retention Science Sailthru Salesforce Salesforce DMP (Krux) Salesforce Marketing Cloud Salesforce Pardot Segment.com Selligent SendGrid Shopify Sitecore Slack Snapchat Snowflake SparkPost SurveyMonkey Swrve Taboola Tealium TikTok The Trade Desk Unified ID 2.0 Versium Webhooks Webhook Templates Wistia X Ads Yahoo Ads Zapier Zendesk Zuora Contentstack Partners Partner Types Lytics Communication Legacy Insights Importing External Experiences IDP-initiated SSO (legacy) Web PersonalizationIntroductionDrive Traffic CampaignCollect Leads CampaignPresent a Message CampaignRecommend Content CampaignCampaign ReportingCampaign ManagementBuilding Audiences with Campaign Data Introduction Drive Traffic Campaign Collect Leads Campaign Present a Message Campaign Recommend Content Campaign Campaign Reporting Campaign Management Building Audiences with Campaign Data Data Models & Queries Cloud Connect Data Models A Data Model is used by Cloud Connect to link or \"connect\" a user's external data warehouse to Lytics profiles. Each Data Model represents a set of records defined by a SQL query. Each Data Model will also configure a join key which defines how the Data Model is joined to Lytics Profiles. Once a Connection to your data warehouse has been created, Data Models can be created via the Data Models tab within the navigation bar: Creating a Data Model Click + Create New from the Data Models dashboard and complete the following steps. Select the Connection. Select the Connection. Write the SQL query. Query Editor: Write and test standard SQL queries directly in Lytics. Alternatively, copy and paste queries you've tested in your BigQuery or Snowflake instance. When you click Test Query, Lytics will return 10 sample records. Write the SQL query. Query Editor: Write and test standard SQL queries directly in Lytics. Alternatively, copy and paste queries you've tested in your BigQuery or Snowflake instance. When you click Test Query, Lytics will return 10 sample records. Test the query and validate the results. Test the query and validate the results. Configure the Data Model. Name: Data Model name Description: The Description of the Data Model. Slug: The Data Model name that will be used in the membership and activation fields in the audience builder. It is important that the name chosen here makes sense for those building audiences in the tool. If no slug is selected, it will auto-populate using the model name. Primary Key: Select the data warehouse ID that will be used to match against profiles in Lytics. External Lytics Key: Select a Lytics user profile field that is a unique identifier to map to an identifier in your incoming data source. Activated Fields:Select the fields you want to bring into Lytics profiles for activation. Note that each data model can only include 25 columns as activated fields. Sync Frequency: Select a time interval to run the query on - this is also the frequency that your Lytics profiles will be updated. The beta options are currently every 1 hour to every 3 weeks. Create new Lytics profile: Check this box if you want to create new profiles in Lytics if a profile with a matching ID does not already exist in Lytics. If you do not select this check box, only users with matching IDs to the Data Model IDs will be updated. Activate the Model. Until the Data Model is activated, its SQL query will not be run against your data warehouse and Lytics profiles will not be updated with the selected fields. 📘 When building multiple Cloud Connect Data Models with the same primary key, you must select the same External Lytics Key mapping. Selecting a different Lytics key will result in an error when you try to save the new Data Model. Example Use Case Consider this scenario to demonstrate why you'd want to create a Cloud Connect Data Model driven audience instead of a standard Lytics audience. Your company sells e-bikes and wants to run a holiday campaign that sends a promotion to any customer who purchased an e-bike in November or December last year. Perhaps you also want to refine your audience to those who are interested in particular bike brands. All of this purchase and product data already exists in your Google BigQuery instance (as shown below). Instead of directly importing all that purchase history data into Lytics, you can write a SQL query to find which customers meet this audience criteria. By copying this query directly into the Lytics Model Builder (as shown in the generate a query screenshot above), you'll create a new audience in Lytics that will be updated on the frequency interval you decide. Once the Data Model is activated, profiles will be updated with a membership field that can be used to create an audience. Activated fields can be added to the Data Model that can then be used for more dynamic audiences. SQL Translator If you would like to skip having to write a SQL query, simply describe the Data Model of what you wish to fetch and using GenAI, Lytics will translate the description to a SQL query for you. Lytics makes queries to your database to ensure that the data is up to date and accurate when creating the query. Updated 2 months ago Table of Contents Cloud Connect Data Models Creating a Data Model Example Use Case SQL Translator Cloud Connect Data Models Creating a Data Model Example Use Case SQL Translator Creating a Data Model Example Use Case SQL Translator",
  "headings": [
    {
      "level": 2,
      "text": "Quick Start"
    },
    {
      "level": 2,
      "text": "Account Management"
    },
    {
      "level": 2,
      "text": "Key Concepts"
    },
    {
      "level": 2,
      "text": "Pipeline & Profiles"
    },
    {
      "level": 2,
      "text": "Warehouse Access"
    },
    {
      "level": 2,
      "text": "Audiences & Activation"
    },
    {
      "level": 2,
      "text": "Tutorials"
    },
    {
      "level": 2,
      "text": "SDKs & Tools"
    },
    {
      "level": 2,
      "text": "Integrations"
    },
    {
      "level": 2,
      "text": "Partners"
    },
    {
      "level": 2,
      "text": "Legacy"
    },
    {
      "level": 1,
      "text": "Data Models & Queries"
    },
    {
      "level": 1,
      "text": "Cloud Connect Data Models"
    },
    {
      "level": 2,
      "text": "Creating a Data Model"
    },
    {
      "level": 2,
      "text": "📘"
    },
    {
      "level": 2,
      "text": "Example Use Case"
    },
    {
      "level": 2,
      "text": "SQL Translator"
    }
  ],
  "platform": "lytics"
}